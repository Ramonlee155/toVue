(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-942b7904"],{9101:function(t,e,s){"use strict";var a="http://chxbanjia.cn/";e["a"]=a},a2b5:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("i-head"),s("i-side"),s("main",[s("div",{staticClass:"flex row admin-container"},[s("ul",{staticClass:"text-center"},[s("router-link",{attrs:{to:"/user/member",tag:"li"}},[t._v(" 用户列表 "),s("i",{staticClass:"icon-go"})]),s("router-link",{attrs:{to:"/user/online",tag:"li"}},[t._v("在线会员 "),s("i",{staticClass:"icon-go"})]),s("router-link",{attrs:{to:"/user/pushHand",tag:"li"}},[t._v("代理列表 "),s("i",{staticClass:"icon-go"})]),s("router-link",{attrs:{to:"/user/robotList",tag:"li"}},[t._v("机器人列表 "),s("i",{staticClass:"icon-go"})])],1),s("div",[s("div",{staticClass:"current-layout user-push-hand"},[s("div",{staticClass:"flex row"},[s("input",{staticClass:"current-input large",attrs:{type:"text",placeholder:"用户名/昵称/备注"}}),s("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),s("button",{staticClass:"current-button large blue"},[t._v("搜索")]),s("button",{staticClass:"current-button large red"},[t._v("清空")])],1),s("div",[s("h2",[t._v("一级代理")]),s("div",[s("ul",{staticClass:"current-scroll-view scroll-view-hover"},[t._m(0),t._l(t.userlist,function(e,a){return s("li",{staticClass:"flex row"},[s("div",{staticClass:"flex-1"},[s("img",{attrs:{src:t.url+e.headimg}})]),s("div",{staticClass:"flex-1"},[t._v(t._s(e.userid))]),s("div",{staticClass:"flex-1"},[t._v(t._s(e.username))]),s("div",{staticClass:"flex-1"},[t._v(t._s(e.remark))]),s("div",{staticClass:"flex-1"},[t._v("1")]),s("div",{staticClass:"flex-1"},[s("input",{staticClass:"current-button small blue",attrs:{type:"button",value:e.sonnum}})]),s("div",{staticClass:"flex-3"},[s("input",{staticClass:"current-button small light-blue",attrs:{type:"button",value:"添加下线"},on:{click:function(s){return t.addChildCount(e.userid)}}}),s("input",{staticClass:"current-button small red",attrs:{type:"button",value:"取消代理"},on:{click:function(s){return t.cancelAgrent(e.userid)}}})])])})],2)]),t._m(1)]),s("el-dialog",{attrs:{visible:t.addASecondaryAgentVisible,width:"500px","show-close":!1,"custom-class":"diy-pop"},on:{"update:visible":function(e){t.addASecondaryAgentVisible=e}}},[s("div",{staticClass:"current-mask current-room-password p0 b0"},[s("div",[s("p",[t._v("添加二级代理")]),s("div",[s("div",{staticClass:"flex row"},[s("input",{staticClass:"flex1 current-input large",attrs:{type:"text",maxlength:"10",placeholder:"请输入二级代理编号"}})])]),s("div",{staticClass:"flex row flex-end"},[s("input",{staticClass:"current-button grey",attrs:{type:"button",value:"取消"},on:{click:function(e){t.addASecondaryAgentVisible=!1}}}),s("input",{staticClass:"current-button light-blue",attrs:{type:"button",value:"确定"}})])])])]),s("el-dialog",{attrs:{visible:t.addChildCountVisible,width:"500px","show-close":!1,"custom-class":"diy-pop"},on:{"update:visible":function(e){t.addChildCountVisible=e}}},[s("div",{staticClass:"user-push-hand"},[s("div",{staticClass:"current-mask"},[s("div",[s("p",{staticClass:"flex row space-between"},[t._v(" 添加下线 "+t._s(t.userdata.userid)+" ")]),s("div",{staticStyle:{height:"auto"}},[s("div",{staticClass:"subordinate"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.sonuserid,expression:"sonuserid"}],staticClass:"current-input large",attrs:{type:"text",maxlength:"100",placeholder:"下级会员编号"},domProps:{value:t.sonuserid},on:{input:function(e){e.target.composing||(t.sonuserid=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.agent_rebate,expression:"agent_rebate"}],staticClass:"current-input large",attrs:{type:"text",maxlength:"5",placeholder:"批量修改抽佣比例"},domProps:{value:t.agent_rebate},on:{input:function(e){e.target.composing||(t.agent_rebate=e.target.value)}}}),s("ul",{staticClass:"text-center flex row wrap"})])]),s("div",{staticClass:"flex row flex-end"},[s("input",{staticClass:"current-button grey",attrs:{type:"button",value:"取消"}}),s("input",{staticClass:"current-button light-blue",attrs:{type:"button",value:"确定"},on:{click:function(e){return t.addAgentUser(t.userdata.userid)}}})])])])])])],1)])])])],1)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"flex row scroll-view-title"},[s("div",{staticClass:"flex-1"},[t._v("头像")]),s("div",{staticClass:"flex-1"},[t._v("用户名")]),s("div",{staticClass:"flex-1"},[t._v("昵称")]),s("div",{staticClass:"flex-1"},[t._v("会员备注")]),s("div",{staticClass:"flex-1"},[t._v("代理等级")]),s("div",{staticClass:"flex-1"},[t._v("下线人数")]),s("div",{staticClass:"flex-3"},[t._v("操作")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex row flex-end"},[s("div",{staticClass:"flex row current-flip"},[s("p",[t._v(" 页码 1 / 1 "),s("span",[t._v("共 0 条")])]),s("div",{staticClass:"flex row"},[s("button",[t._v("上一页")]),s("button",[t._v("下一页")])]),s("input",{staticClass:"current-input",attrs:{type:"text"}}),s("button",{staticClass:"current-button blue"},[t._v("跳转")])])])}],n=s("9101"),r={data:function(){return{date:null,addASecondaryAgentVisible:!1,userlist:[],addChildCountVisible:!1,page:1,userdata:[],userid:"",sonuserid:"",agent_rebate:""}},mounted:function(){this.roomid=sessionStorage.getItem("roomid"),this.getuserlist()},methods:{addAgentUser:function(t){var e=this;if(!e.agent_rebate)return e.$message({type:"error",message:"请输入返点!"}),!1;axios.post(n["a"]+"/room/agent/addson",{userid:e.sonuserid,roomid:e.roomid,agentid:t,agent_rebate:e.agent_rebate}).then(function(t){1==t.data.status?e.$message({type:"success",message:"设置成功!"}):e.$message({type:"error",message:t.data.msg}),e.getuserlist()})},getuserlist:function(){var t=this;axios.post(n["a"]+"/room/agent/list&roomid="+this.roomid,{pageSize:25,page:this.page}).then(function(e){t.userlist=e.data.data,t.total=e.data.total})},addAgrent:function(){this.addASecondaryAgentVisible=!0},addChildCount:function(t){var e=this;this.userid=t,axios.post(n["a"]+"/room/user/getuserdata?roomid="+this.roomid+"&userid="+t).then(function(t){e.userdata=t.data.data,e.tatal=t.data.tatal}),this.addChildCountVisible=!0},cancelAgrent:function(t){var e=this,s=this,a=this.$createElement;this.$msgbox({title:"",type:"info",message:a("p",null,[a("span",null,"是否取消该会员代理 "),a("b",{style:"color: red"},"操作会取消该会员代理")]),showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消",beforeClose:function(a,i,r){"confirm"===a?(axios.post(n["a"]+"/room/agent/delagent&roomid="+e.roomid,{userid:t}).then(function(t){s.getuserlist()}),e.$message({message:"取消成功",type:"success"}),r()):r()}}).then(function(t){e.$message({type:"info",message:"action: "+t})})}}},l=r,o=s("2877"),u=Object(o["a"])(l,a,i,!1,null,null,null);e["default"]=u.exports}}]);